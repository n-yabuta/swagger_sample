= TRJX API Server


[[_overview]]
== Overview
trjxUIのバックエンドAPI


=== Version information
[%hardbreaks]
__Version__ : 1.0.0


=== URI scheme
[%hardbreaks]
__BasePath__ : /trjx/api/v1
__Schemes__ : HTTPS, HTTP


=== Tags

* aircrafts : ドローン
* flightplan : フライト計画
* obstacle : 障害物
* operation : 機体操作
* projects : プロジェクト
* telemetory : 位置情報




[[_paths]]
== Paths

[[_aircrafts_post]]
=== ドローンを追加する
....
POST /aircrafts
....


==== Description
空のドローンを新規に追加する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* aircrafts


[[_aircrafts_get]]
=== ドローンの一覧を取得
....
GET /aircrafts
....


==== Description
ドローンの一覧を取得する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* aircrafts


[[_aircrafts_put]]
=== ドローンを更新する
....
PUT /aircrafts
....


==== Description
指定したIDのドローンの情報を更新する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* aircrafts


[[_aircrafts_delete]]
=== 指定したドローンの削除
....
DELETE /aircrafts
....


==== Description
IDで指定したドローンを削除する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* aircrafts


[[_aircrafts_aircraft_id_get]]
=== ドローンを取得
....
GET /aircrafts/{aircraft_id}
....


==== Description
IDで指定したドローンの情報を取得する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**aircraft_id** +
__required__|ドローンのID|integer (int64)
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* aircrafts


[[_flightplan_post]]
=== フライト計画を追加する
....
POST /flightplan
....


==== Description
空のフライト計画を新規に追加する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* flightplan


[[_flightplan_get]]
=== フライト計画の一覧を取得
....
GET /flightplan
....


==== Description
フライト計画の一覧を取得する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* flightplan


[[_flightplan_put]]
=== フライト計画を更新する
....
PUT /flightplan
....


==== Description
指定したIDのフライト計画の情報を更新する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* flightplan


[[_flightplan_delete]]
=== 指定したフライト計画の削除
....
DELETE /flightplan
....


==== Description
IDで指定したフライト計画を削除する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* flightplan


[[_flightplan_flightplan_id_get]]
=== フライト計画を取得
....
GET /flightplan/{flightplan_id}
....


==== Description
IDで指定したフライト計画の情報を取得する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**flightplan_id** +
__required__|フライト計画のID|integer (int64)
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* flightplan


[[_obstacle_post]]
=== 障害物を追加する
....
POST /obstacle
....


==== Description
空の障害物を新規に追加する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* obstacle


[[_obstacle_get]]
=== 障害物の一覧を取得
....
GET /obstacle
....


==== Description
障害物の一覧を取得する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* obstacle


[[_obstacle_put]]
=== 障害物を更新する
....
PUT /obstacle
....


==== Description
指定したIDの障害物の情報を更新する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* obstacle


[[_obstacle_delete]]
=== 指定した障害物の削除
....
DELETE /obstacle
....


==== Description
IDで指定した障害物を削除する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* obstacle


[[_obstacle_obstacle_id_get]]
=== 障害物を取得
....
GET /obstacle/{obstacle_id}
....


==== Description
IDで指定した障害物の情報を取得する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**obstacle_id** +
__required__|障害物ID|integer (int64)
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* obstacle


[[_operation_put]]
=== 操作を更新する
....
PUT /operation
....


==== Description
指定した操作を実施する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* operation


[[_projects_post]]
=== プロジェクトを追加
....
POST /projects
....


==== Description
空のプロジェクトを新規に追加する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Query**|**projectName** +
__required__|プロジェクト名|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|<<_projects_post_response_200,Response 200>>
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===

[[_projects_post_response_200]]
**Response 200**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__optional__|結果コード +
**Example** : `0`|integer
|**project** +
__optional__||<<_project,Project>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* projects


[[_projects_get]]
=== プロジェクトの一覧を取得
....
GET /projects
....


==== Description
プロジェクトの一覧を取得する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|< <<_project,Project>> > array
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* projects


[[_projects_put]]
=== プロジェクトを更新する
....
PUT /projects
....


==== Description
bodyで指定したプロジェクトを更新する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Body**|**body** +
__required__|更新対象のプロジェクト|<<_project,Project>>
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|<<_projects_put_response_200,Response 200>>
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===

[[_projects_put_response_200]]
**Response 200**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__optional__|結果コード +
**Example** : `0`|integer
|**project** +
__optional__||<<_project,Project>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* projects


[[_projects_delete]]
=== プロジェクトを削除する
....
DELETE /projects
....


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Body**|**body** +
__required__|更新対象のプロジェクト|<<_project,Project>>
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|<<_projects_delete_response_200,Response 200>>
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===

[[_projects_delete_response_200]]
**Response 200**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__optional__|結果コード +
**Example** : `0`|integer
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* projects


[[_projects_project_id_get]]
=== プロジェクトを取得
....
GET /projects/{project_id}
....


==== Description
指定したIDのプロジェクトを取得する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**project_id** +
__required__|プロジェクトのID|integer (int64)
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|< <<_project,Project>> > array
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* projects


[[_telemetory_post]]
=== 位置情報を追加する
....
POST /telemetory
....


==== Description
空の位置情報を新規に追加する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Body**|**body** +
__required__|ドローン位置情報|<<_telemetory,Telemetory>>
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|No Content
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* telemetory


[[_telemetory_get]]
=== 位置情報の一覧を取得
....
GET /telemetory
....


==== Description
位置情報の一覧を取得する


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|<<_telemetory_get_response_200,Response 200>>
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===

[[_telemetory_get_response_200]]
**Response 200**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__optional__|内部コード|integer (int32)
|**telemetory** +
__optional__||< <<_telemetory,Telemetory>> > array
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* telemetory


[[_telemetory_aircraft_id_get]]
=== 指定したドローンのいち情報取得
....
GET /telemetory{aircraft_id}
....


==== Description
指定したIDのドローンの位置情報を取得する


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**aircraft_id** +
__required__|ドローンID|integer (int64)
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|successful|<<_telemetory_aircraft_id_get_response_200,Response 200>>
|**400**|不正なリクエスト|<<_error,Error>>
|**500**|サーバ内部エラー|<<_error,Error>>
|===

[[_telemetory_aircraft_id_get_response_200]]
**Response 200**

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__optional__|内部コード|integer (int32)
|**telemetory** +
__optional__||<<_telemetory,Telemetory>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* telemetory




[[_definitions]]
== Definitions

[[_aircraft]]
=== Aircraft

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**aircraft_id** +
__optional__|ドローンID|integer (int64)
|**name** +
__optional__|ドローン名称|string
|===


[[_apiresponse]]
=== ApiResponse

[options="header", cols=".^3a,.^4a"]
|===
|Name|Schema
|**code** +
__optional__|integer (int32)
|**message** +
__optional__|string
|**type** +
__optional__|string
|===


[[_error]]
=== Error

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**code** +
__optional__|アプリ内エラーコード|integer (int32)
|**message** +
__optional__|エラーメッセージ|string
|===


[[_position]]
=== Position

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**alt** +
__optional__|高度|integer (int64)
|**lat** +
__optional__|緯度|integer (int64)
|**lon** +
__optional__|経度|integer (int64)
|**x-speed** +
__optional__|スピード|integer (int64)
|**y-speed** +
__optional__|スピード|integer (int64)
|**z-speed** +
__optional__|スピード|integer (int64)
|===


[[_project]]
=== Project

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**aircrafts** +
__optional__|管理するドローンID一覧|< <<_aircraft,Aircraft>> > array
|**name** +
__optional__|プロジェクト名|string
|**project_id** +
__optional__|プロジェクトID|integer (int64)
|===


[[_telemetory]]
=== Telemetory

[options="header", cols=".^3a,.^11a,.^4a"]
|===
|Name|Description|Schema
|**aircraft_id** +
__optional__|ドローンのID|integer (int64)
|**positions** +
__optional__||< <<_position,Position>> > array
|===



